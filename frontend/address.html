<!DOCTYPE html>
<html>
<head>
  <title>My Addresses</title>
  <link rel="stylesheet" href="common.css" />
 
</head>
<body>

<div id="navbar"></div>

<script>
  fetch("navbar.html")
    .then(res => res.text())
    .then(html => {
      document.getElementById("navbar").innerHTML = html;
      renderNavbar();
    });
</script>
<script src="navbar.js"></script>

<div class="page-container">

  <h2 class="page-title">Saved Addresses</h2>

  <!-- Address list -->
  <ul id="addressList" class="address-list"></ul>

  <hr>

  <h3>Add / Edit Address</h3>

  <div class="address-form">
    <input id="addrLabel" placeholder="Label (Home / Office)">
    <input id="addrLine1" placeholder="Address line">
    <input id="addrLocation" placeholder="Location">
    <input id="addrPincode" placeholder="Pincode">

    <button id="saveBtn" class="primary-btn" onclick="saveAddress()">
      Save Address
    </button>
  </div>

</div>

<script src="app.js"></script>

<script>
  

  // Protect page: admin not allowed
  if (getUserRole() === "admin") {
    alert("Admins cannot manage addresses");
    window.location.href = "admin.html";
  }
  
  loadAddressesList();
</script>

</body>
</html>
